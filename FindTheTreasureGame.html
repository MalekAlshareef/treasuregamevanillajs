<!DOCTYPE html>
<html>
<head>
	<title>Find The Treasure!</title>
</head>
<body>
	<h1 id ="headomg">Find the buried Treasure!</h1>
	<img id ="map" width=400 height=400 src="http://nostarch.com/images/treasuremap.png">
	<p id ="distance"></p>
	<script src="https://code.jquery.com/jquery-2.1.0.js"></script>
	<script>
		var getRandomNumber = function(size) {
			return Math.floor(Math.random() * size);
		}
		var getDistance = function(event,target) {
			var diffX = event.offsetX - target.x;
			var diffY = event.offsetY - target.y;
			return Math.sqrt((diffX * diffX) + (diffY * diffY));
		};
		var getDistanceHint = function(distance) {
			if(distance <10) {
				return "boiling hot! " + clicks + " left!";

			}
			if(distance <20) {
				var reallyHot = "Really Hot! you got " + remainingClicks + " clicks left";
				remainingClicks--;
				return reallyHot;
			}
			if(distance <40) {
				var hot = "Hot! you got " + remainingClicks + " clicks left";
				remainingClicks--;
				return hot;
			}
			if(distance <80) {
				var warm = "Warm! you got " + remainingClicks + " clicks left";
				remainingClicks--;
				return warm;
			}
			if(distance <160) {
				var cold = "Cold! you got " + remainingClicks + " clicks left";
				remainingClicks--;
				return cold;
			}
			if(distance <320) {
				var freezing = "Freezing! you got " + remainingClicks + " clicks left";
				remainingClicks--;
				return freezing; 
			}
		};
		var width = 400;
		var height = 400;
		var clicks = 0;
		var remainingClicks = 19 - clicks;
		var target = {
			x: getRandomNumber(width),
			y: getRandomNumber(height),
		};
		$("#map").click(function(event){
          if(clicks < 20){
          	clicks++;
            var distance = getDistance(event,target);
            var distanceHint = getDistanceHint(distance);
            $("#distance").text(distanceHint);
            if(distance < 8) {
          	alert("You found the treasure in " + clicks + " clicks");
          }
      }
      if(clicks >= 20) {
      	alert("You lost!");
      }
		});
	</script>